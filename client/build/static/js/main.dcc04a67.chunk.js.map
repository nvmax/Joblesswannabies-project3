{"version":3,"sources":["utils/actions.js","utils/reducers.js","utils/GlobalState.js","utils/helpers.js","components/ProductItem/index.js","utils/queries.js","components/Categories/index.js","components/ProductList/index.js","images/blog_thumbnail_trail-running-tips_1200x800-1024x683.jpg.png","images/ocean_club_golf_3273_0.png","images/heart-zone-training-3432619-2378-472a3028e21b4337b57e014fa5d5a2ad.png","images/aviation.png","images/Feature-dive-watch.png","pages/Home.js","components/Cart/index.js","utils/auth.js","components/Nav/index.js","utils/mutations.js","pages/Login.js","pages/Signup.js","pages/Browse.js","pages/SingleItem.js","components/Footer/index.js","components/CartItem/index.js","pages/Cart.js","pages/Success.js","App.js","fonts/coolvetica.rg-regular.otf","fonts/poppins.regular.ttf","index.js"],"names":["UPDATE_PRODUCTS","ADD_TO_CART","ADD_MULTIPLE_TO_CART","REMOVE_FROM_CART","UPDATE_CART_QUANTITY","UPDATE_CATEGORIES","UPDATE_CURRENT_CATEGORY","reducer","state","action","type","products","cartOpen","cart","product","map","_id","purchaseQuantity","newState","filter","length","categories","currentCategory","StoreContext","createContext","Provider","StoreProvider","value","initialState","props","useReducer","dispatch","useStoreContext","useContext","idbPromise","storeName","method","object","Promise","resolve","reject","db","tx","store","request","window","indexedDB","open","onupgradeneeded","e","result","createObjectStore","keyPath","onerror","console","log","onsuccess","transaction","objectStore","put","all","getAll","delete","oncomplete","close","ProductItem","item","name","picture","msrp","className","to","src","onClick","itemInCart","find","cartItem","parseInt","QUERY_PRODUCTS","gql","QUERY_CHECKOUT","QUERY_CATEGORIES","Categories","useQuery","loading","categoryData","data","useEffect","forEach","category","then","onChange","target","ProductList","Home","windowWidth","innerWidth","duration","animateOut","animateIn","Running","alt","Golfing","Health","Aviation","Diving","offset","Cart","navigate","useNavigate","getCart","decode","this","getToken","token","isTokenExpired","exp","Date","now","err","localStorage","getItem","idToken","setItem","location","assign","removeItem","Nav","Auth","loggedIn","href","logout","LOGIN","ADD_ORDER","ADD_USER","Login","useState","email","password","formState","setFormState","useMutation","login","error","handleFormSubmit","event","preventDefault","variables","mutationResponse","handleChange","onSubmit","htmlFor","placeholder","id","SignUp","addUser","firstName","lastName","Browse","SingleItem","useParams","currentProduct","setCurrentProduct","indexedProducts","description","size","displaysize","displayresolution","weight","waterrating","colordisplay","releasedate","disabled","p","Footer","CartItem","role","removeFromCart","stripePromise","loadStripe","CartPage","useLazyQuery","getCheckout","res","redirectToCheckout","sessionId","checkout","session","sum","toFixed","calculateTotal","productIds","i","push","Success","addOrder","setTimeout","saveOrder","client","ApolloClient","uri","cache","InMemoryCache","App","ApolloProvider","path","element","Signup","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.dcc04a67.chunk.js","sourcesContent":["export const UPDATE_PRODUCTS = \"UPDATE_PRODUCTS\";\r\n\r\nexport const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const ADD_MULTIPLE_TO_CART = \"ADD_MULTIPLE_TO_CART\";\r\nexport const REMOVE_FROM_CART = \"REMOVE_FROM_CART\";\r\nexport const CLEAR_CART = \"CLEAR_CART\";\r\nexport const UPDATE_CART_QUANTITY = \"UPDATE_CART_QUANTITY\";\r\nexport const TOGGLE_CART = \"TOGGLE_CART\";\r\n\r\nexport const UPDATE_CATEGORIES = \"UPDATE_CATEGORIES\";\r\nexport const UPDATE_CURRENT_CATEGORY = \"UPDATE_CURRENT_CATEGORY\";\r\n","import { useReducer } from \"react\";\r\nimport {\r\n  UPDATE_PRODUCTS,\r\n  ADD_TO_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  REMOVE_FROM_CART,\r\n  ADD_MULTIPLE_TO_CART,\r\n  UPDATE_CATEGORIES,\r\n  UPDATE_CURRENT_CATEGORY,\r\n  CLEAR_CART,\r\n  TOGGLE_CART\r\n} from \"./actions\";\r\n\r\nexport const reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case UPDATE_PRODUCTS:\r\n      return {\r\n        ...state,\r\n        products: [...action.products],\r\n      };\r\n\r\n    case ADD_TO_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: [...state.cart, action.product],\r\n      };\r\n\r\n    case ADD_MULTIPLE_TO_CART:\r\n      return {\r\n        ...state,\r\n        cart: [...state.cart, ...action.products],\r\n      };\r\n\r\n    case UPDATE_CART_QUANTITY:\r\n      return {\r\n        ...state,\r\n        cartOpen: true,\r\n        cart: state.cart.map(product => {\r\n          if (action._id === product._id) {\r\n            product.purchaseQuantity = action.purchaseQuantity\r\n          }\r\n          return product\r\n        })\r\n      };\r\n\r\n    case REMOVE_FROM_CART:\r\n      let newState = state.cart.filter(product => {\r\n        return product._id !== action._id;\r\n      });\r\n\r\n      return {\r\n        ...state,\r\n        cartOpen: newState.length > 0,\r\n        cart: newState\r\n      };\r\n\r\n    case CLEAR_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: false,\r\n        cart: []\r\n      };\r\n\r\n    case TOGGLE_CART:\r\n      return {\r\n        ...state,\r\n        cartOpen: !state.cartOpen\r\n      };\r\n\r\n    case UPDATE_CATEGORIES:\r\n      return {\r\n        ...state,\r\n        categories: [...action.categories],\r\n      };\r\n\r\n    case UPDATE_CURRENT_CATEGORY:\r\n      return {\r\n        ...state,\r\n        currentCategory: action.currentCategory\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport function useProductReducer(initialState) {\r\n  return useReducer(reducer, initialState)\r\n}\r\n","import React, { createContext, useContext } from \"react\";\r\nimport { useProductReducer } from './reducers'\r\n\r\nconst StoreContext = createContext();\r\nconst { Provider } = StoreContext;\r\n\r\nconst StoreProvider = ({ value = [], ...props }) => {\r\n  const [state, dispatch] = useProductReducer({\r\n    products: [],\r\n    cart: [],\r\n    cartOpen: false,\r\n    categories: [],\r\n    currentCategory: '',\r\n  });\r\n\r\n  return <Provider value={[state, dispatch]} {...props} />;\r\n};\r\n\r\nconst useStoreContext = () => {\r\n  return useContext(StoreContext);\r\n};\r\n\r\nexport { StoreProvider, useStoreContext };\r\n","export function pluralize(name, count) {\r\n  if (count === 1) {\r\n    return name;\r\n  }\r\n  return name + 's';\r\n}\r\n\r\nexport function idbPromise(storeName, method, object) {\r\n  return new Promise((resolve, reject) => {\r\n    const request = window.indexedDB.open('Garmin', 1);\r\n    let db, tx, store;\r\n    request.onupgradeneeded = function(e) {\r\n      const db = request.result;\r\n      db.createObjectStore('products', { keyPath: '_id' });\r\n      db.createObjectStore('categories', { keyPath: '_id' });\r\n      db.createObjectStore('cart', { keyPath: '_id' });\r\n    };\r\n\r\n    request.onerror = function(e) {\r\n      console.log('There was an error');\r\n    };\r\n\r\n    request.onsuccess = function(e) {\r\n      db = request.result;\r\n      tx = db.transaction(storeName, 'readwrite');\r\n      store = tx.objectStore(storeName);\r\n\r\n      db.onerror = function(e) {\r\n        console.log('error', e);\r\n      };\r\n\r\n      switch (method) {\r\n        case 'put':\r\n          store.put(object);\r\n          resolve(object);\r\n          break;\r\n        case 'get':\r\n          const all = store.getAll();\r\n          all.onsuccess = function() {\r\n            resolve(all.result);\r\n          };\r\n          break;\r\n        case 'delete':\r\n          store.delete(object._id);\r\n          break;\r\n        default:\r\n          console.log('No valid method');\r\n          break;\r\n      }\r\n\r\n      tx.oncomplete = function() {\r\n        db.close();\r\n      };\r\n    };\r\n  });\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { pluralize } from \"../../utils/helpers\"\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport { ADD_TO_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\n\r\nimport './style.css'\r\n\r\nconst ProductItem = (item) => {\r\n  const [state, dispatch] = useStoreContext();\r\n\r\n  const {\r\n    _id,\r\n    name,\r\n    picture,\r\n    msrp,\r\n  } = item;\r\n\r\n  const { cart } = state\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === _id)\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: _id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...item, purchaseQuantity: 1 }\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: 1 });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='product-item-card-styling font-item-list'>\r\n      <Link className=\"product-item-link-styling\" to={`/products/${_id}`}><img className='product-image-styling' src={picture} />\r\n        <h1 className='product-item-title-styling font-item-list'>{name}</h1>\r\n      </Link>\r\n      <div className=\"product-item-price-styling\">\r\n        <span className=\"font-item-list price-color\">${msrp}</span>\r\n      </div>\r\n      <div className=\"product-item-addCart-div-styling\">\r\n        <button className=\"add-cart-btn font-item-list\" onClick={addToCart}>Add to cart</button>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ProductItem;","import { gql } from '@apollo/client';\r\n\r\nexport const QUERY_PRODUCTS = gql`\r\n  query getProducts($category: ID) {\r\n    products(category: $category) {\r\n      _id\r\n      name\r\n      picture\r\n      description\r\n      msrp\r\n      review\r\n      releasedate\r\n      size\r\n      displaysize\r\n      displayresolution\r\n      weight\r\n      waterrating\r\n      colordisplay\r\n      category {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CHECKOUT = gql`\r\n  query getCheckout($products: [ID]!) {\r\n    checkout(products: $products) {\r\n      session\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_ALL_PRODUCTS = gql`\r\n  {\r\n    products {\r\n      _id\r\n      name\r\n      description\r\n      image\r\n      quantity\r\n      price\r\n      category {\r\n        name\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_CATEGORIES = gql`\r\n  {\r\n    categories {\r\n      _id\r\n      name\r\n    }\r\n  }\r\n`;\r\n\r\nexport const QUERY_USER = gql`\r\n  {\r\n    user {\r\n      firstName\r\n      lastName\r\n      orders {\r\n        _id\r\n        purchaseDate\r\n        products {\r\n          _id\r\n          name\r\n          description\r\n          price\r\n          quantity\r\n          image\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useEffect } from 'react';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport {\r\n    UPDATE_CATEGORIES,\r\n    UPDATE_CURRENT_CATEGORY,\r\n} from '../../utils/actions';\r\nimport { QUERY_CATEGORIES } from '../../utils/queries';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport './style.css'\r\n\r\nfunction Categories() {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const { categories } = state;\r\n\r\n    const { loading, data: categoryData } = useQuery(QUERY_CATEGORIES);\r\n\r\n    useEffect(() => {\r\n        if (categoryData) {\r\n            dispatch({\r\n                type: UPDATE_CATEGORIES,\r\n                categories: categoryData.categories,\r\n            });\r\n            categoryData.categories.forEach((category) => {\r\n                idbPromise('categories', 'put', category);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise('categories', 'get').then((categories) => {\r\n                dispatch({\r\n                    type: UPDATE_CATEGORIES,\r\n                    categories: categories,\r\n                });\r\n            });\r\n        }\r\n    }, [categoryData, loading, dispatch]);\r\n\r\n    const handleChange = (value) => {\r\n        console.log(value.target.value)\r\n        dispatch({\r\n            type: UPDATE_CURRENT_CATEGORY,\r\n            currentCategory: value.target.value,\r\n        });\r\n    };\r\n\r\n    \r\n\r\n    return (\r\n        <div className='category-parent-div'>\r\n            <div className='product-category-title-styling font-Poppins'>Categories</div>\r\n            <select className='category-select font-Poppins'  onChange = {handleChange} >\r\n                <option className='product-category-styling font-Poppins' value=''>All Products</option>\r\n                {categories.map((category) => (\r\n                    <option\r\n                        key={category._id}\r\n                        value={category._id}\r\n                        className='product-category-styling font-Poppins'>{category.name}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Categories;","import React, { useEffect } from 'react';\r\nimport ProductItem from '../ProductItem/index'\r\nimport Categories from '../Categories/index'\r\nimport { UPDATE_PRODUCTS } from '../../utils/actions';\r\nimport { useQuery } from '@apollo/client';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport { QUERY_PRODUCTS } from '../../utils/queries';\r\nimport { AnimationOnScroll } from 'react-animation-on-scroll';\r\nimport \"animate.css/animate.min.css\";\r\nimport './style.css'\r\n\r\nconst ProductList = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n\r\n    const { currentCategory } = state;\r\n\r\n    const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            dispatch({\r\n                type: UPDATE_PRODUCTS,\r\n                products: data.products,\r\n            });\r\n            data.products.forEach((product) => {\r\n                idbPromise('products', 'put', product);\r\n            });\r\n        } else if (!loading) {\r\n            idbPromise('products', 'get').then((products) => {\r\n                dispatch({\r\n                    type: UPDATE_PRODUCTS,\r\n                    products: products,\r\n                });\r\n            });\r\n        }\r\n    }, [data, loading, dispatch]);\r\n\r\n    function filterProducts() {\r\n        if (!currentCategory) {\r\n            return state.products;\r\n        }\r\n\r\n        return state.products.filter(\r\n            (product) => product.category._id === currentCategory\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className='product-list-grid product-list-styling'>\r\n            <Categories />\r\n            <div className='product-all-products-title-styling font-Poppins'>All Products</div>\r\n            <div className='product-all-products-grid'>\r\n                {filterProducts().map((product) => (\r\n                    <ProductItem\r\n                        key={product._id}\r\n                        _id={product._id}\r\n                        picture={product.picture}\r\n                        name={product.name}\r\n                        msrp={product.msrp}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProductList;","export default __webpack_public_path__ + \"static/media/blog_thumbnail_trail-running-tips_1200x800-1024x683.jpg.eb4c886e.png\";","export default __webpack_public_path__ + \"static/media/ocean_club_golf_3273_0.feea842f.png\";","export default __webpack_public_path__ + \"static/media/heart-zone-training-3432619-2378-472a3028e21b4337b57e014fa5d5a2ad.0ef91ffc.png\";","export default __webpack_public_path__ + \"static/media/aviation.d24ddaa5.png\";","export default __webpack_public_path__ + \"static/media/Feature-dive-watch.d836aee8.png\";","import ProductList from '../components/ProductList';\r\nimport Running from '../images/blog_thumbnail_trail-running-tips_1200x800-1024x683.jpg.png'\r\nimport Golfing from '../images/ocean_club_golf_3273_0.png'\r\nimport Health from '../images/heart-zone-training-3432619-2378-472a3028e21b4337b57e014fa5d5a2ad.png'\r\nimport Aviation from '../images/aviation.png'\r\nimport Diving from '../images/Feature-dive-watch.png'\r\nimport { useEffect } from 'react';\r\nimport \"animate.css/animate.min.css\";\r\nimport { AnimationOnScroll } from 'react-animation-on-scroll';\r\n\r\nconst Home = () => {\r\n\r\n    const windowWidth = window.innerWidth;\r\n    console.log(windowWidth)\r\n\r\n    if (windowWidth >= 1469) {\r\n        return (\r\n            <div className='text-align-center home-main-div'>\r\n                <div className='first-section-grid'>\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutLeft' animateIn=\"animate__fadeInLeft\">\r\n                        <div className='home-img'>\r\n                            <img\r\n                                src={Running}\r\n                                alt='trail runner'\r\n                            />\r\n                        </div>\r\n                    </AnimationOnScroll >\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutRight' animateIn=\"animate__fadeInRight\">\r\n                        <div>\r\n                            <h1 className='font-Poppins'>Running Watch</h1>\r\n                            <p className='font-Poppins-light'>Running watches can help you track a multitude of things so you only have to focus on running and can learn and track yourself later. Check out our selection of running watches.</p>\r\n                        </div>\r\n                    </AnimationOnScroll>\r\n                </div>\r\n                <div className='first-section-grid '>\r\n                    <AnimationOnScroll duration='1.5' animateOut='animate__fadeOutLeft' animateIn=\"animate__fadeInLeft\">\r\n                        <div>\r\n                            <h1 className='font-Poppins'>Golfing Watch</h1>\r\n                            <p className='font-Poppins-light'>Golf watches are a great way to track your way around the green. check out our selection of golf watches.</p>\r\n                        </div>\r\n                    </AnimationOnScroll >\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutRight' animateIn=\"animate__fadeInRight\">\r\n                        <img\r\n                            src={Golfing}\r\n                            alt='trail runner'\r\n                        />\r\n                    </AnimationOnScroll >\r\n                </div>\r\n                <div className='first-section-grid '>\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutLeft' animateIn=\"animate__fadeInLeft\">\r\n                        <img\r\n                            src={Health}\r\n                            alt='trail runner'\r\n                        />\r\n                    </AnimationOnScroll >\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutRight' animateIn=\"animate__fadeInRight\">\r\n                        <div>\r\n                            <h1 className='font-Poppins'>Health Watch</h1>\r\n                            <p className='font-Poppins-light'>Need help tracking your steps, heart rate, and sleep? Our selection of health watches is unmatched and can track everything you need.</p>\r\n                        </div>\r\n                    </AnimationOnScroll >\r\n                </div>\r\n                <div className='first-section-grid '>\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutLeft' animateIn=\"animate__fadeInLeft\">\r\n                        <div>\r\n                            <h1 className='font-Poppins'>Aviation Watch</h1>\r\n                            <p className='font-Poppins-light'>For all the pilots, aviation watches can help you both on the ground and in the sky. We offer a great selection with many different elements so you can handpick what you need in a watch.</p>\r\n                        </div>\r\n                    </AnimationOnScroll >\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutRight' animateIn=\"animate__fadeInRight\">\r\n                        <img\r\n                            src={Aviation}\r\n                            alt='trail runner'\r\n                        />\r\n                    </AnimationOnScroll >\r\n                </div>\r\n                <div className='first-section-grid '>\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutLeft' animateIn=\"animate__fadeInLeft\">\r\n                        <img\r\n                            src={Diving}\r\n                            alt='trail runner'\r\n                        />\r\n                    </AnimationOnScroll >\r\n                    <AnimationOnScroll duration='2' animateOut='animate__fadeOutRight' animateIn=\"animate__fadeInRight\">\r\n                        <div>\r\n                            <h1 className='font-Poppins'>Diving Watch</h1>\r\n                            <p className='font-Poppins-light'>For both amateur and advanced divers our diving watches can help you navigate the waters. With special technology these can stand water pressure and keep you safe on your dives.</p>\r\n                        </div>\r\n                    </AnimationOnScroll >\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className='text-align-center home-main-div '>\r\n            <div className='mobile-homepage-grid'>\r\n                <div>\r\n                    <div >\r\n                        <img\r\n                            className='home-img-moblie'\r\n                            src={Running}\r\n                            alt='trail runner'\r\n                        />\r\n                    </div>\r\n                </div >\r\n                <AnimationOnScroll duration='2' offset={1} animateIn=\"animate__zoomIn\">\r\n                    <div>\r\n                        <h1 className='font-Poppins'>Running Watch</h1>\r\n                        <p className='font-Poppins-light'>Running watches can help you track a multitude of things so you only have to focus on running and can learn and track yourself later. Check out our selection of running watches.</p>\r\n                    </div>\r\n                </AnimationOnScroll>\r\n            </div>\r\n            <div className='mobile-homepage-grid'>\r\n                <div>\r\n                    <div >\r\n                        <img\r\n                            className='home-img-moblie'\r\n                            src={Golfing}\r\n                            alt='trail runner'\r\n                        />\r\n                    </div>\r\n                </div >\r\n                <AnimationOnScroll duration='2' offset={1} animateIn=\"animate__zoomIn\">\r\n                    <div>\r\n                        <h1 className='font-Poppins'>Golfing Watch</h1>\r\n                        <p className='font-Poppins-light'>Golf watches are a great way to track your way around the green. check out our selection of golf watches.</p>\r\n                    </div>\r\n                </AnimationOnScroll>\r\n            </div>\r\n            <div className='mobile-homepage-grid'>\r\n                <div>\r\n                    <div >\r\n                        <img\r\n                            className='home-img-moblie'\r\n                            src={Health}\r\n                            alt='trail runner'\r\n                        />\r\n                    </div>\r\n                </div >\r\n                <AnimationOnScroll duration='2' offset={1} animateIn=\"animate__zoomIn\">\r\n                    <div>\r\n                        <h1 className='font-Poppins'>Health Watch</h1>\r\n                        <p className='font-Poppins-light'>Need help tracking your steps, heart rate, and sleep? Our selection of health watches is unmatched and can track everything you need.</p>\r\n                    </div>\r\n                </AnimationOnScroll>\r\n            </div>\r\n            <div className='mobile-homepage-grid'>\r\n                <div>\r\n                    <div >\r\n                        <img\r\n                            className='home-img-moblie'\r\n                            src={Aviation}\r\n                            alt='trail runner'\r\n                        />\r\n                    </div>\r\n                </div >\r\n                <AnimationOnScroll duration='2' offset={1} animateIn=\"animate__zoomIn\">\r\n                    <div>\r\n                        <h1 className='font-Poppins'>Aviation Watch</h1>\r\n                        <p className='font-Poppins-light'>For all the pilots, aviation watches can help you both on the ground and in the sky. We offer a great selection with many different elements so you can handpick what you need in a watch.</p>\r\n                    </div>\r\n                </AnimationOnScroll>\r\n            </div>\r\n            <div className='mobile-homepage-grid'>\r\n                <div>\r\n                    <div >\r\n                        <img\r\n                            className='home-img-moblie'\r\n                            src={Diving}\r\n                            alt='trail runner'\r\n                        />\r\n                    </div>\r\n                </div >\r\n                <AnimationOnScroll duration='2' offset={1} animateIn=\"animate__zoomIn\">\r\n                    <div>\r\n                        <h1 className='font-Poppins'>Diving Watch</h1>\r\n                        <p className='font-Poppins-light'>For both amateur and advanced divers our diving watches can help you navigate the waters. With special technology these can stand water pressure and keep you safe on your dives.</p>\r\n                    </div>\r\n                </AnimationOnScroll>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n\r\n};\r\n\r\nexport default Home;","import React, { useEffect } from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport { idbPromise } from '../../utils/helpers';\r\nimport { useStoreContext } from '../../utils/GlobalState';\r\nimport {ADD_MULTIPLE_TO_CART } from '../../utils/actions';\r\nimport './style.css';\r\n\r\n\r\nconst Cart = () => {\r\n  const navigate = useNavigate();\r\n  const [state, dispatch] = useStoreContext();\r\n\r\n  useEffect(() => {\r\n    async function getCart() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      dispatch({ type: ADD_MULTIPLE_TO_CART, products: [...cart] });\r\n    }\r\n\r\n    if (!state.cart.length) {\r\n      getCart();\r\n    }\r\n  }, [state.cart.length, dispatch]);\r\n\r\n  function navigateToCart() {\r\n    navigate('/cart');\r\n  }\r\n\r\n    return (\r\n      <div>\r\n        <i className=\"fas fa-shopping-cart nav-icon-style\" onClick={navigateToCart}></i>\r\n        <span className=\"badge\">{state.cart.length}</span>\r\n      </div>\r\n    );\r\n};\r\n\r\nexport default Cart;","import decode from 'jwt-decode';\r\n\r\nclass AuthService {\r\n  getProfile() {\r\n    return decode(this.getToken());\r\n  }\r\n\r\n  loggedIn() {\r\n    // Checks if there is a saved token and it's still valid\r\n    const token = this.getToken();\r\n    return !!token && !this.isTokenExpired(token);\r\n  }\r\n\r\n  isTokenExpired(token) {\r\n    try {\r\n      const decoded = decode(token);\r\n      if (decoded.exp < Date.now() / 1000) {\r\n        return true;\r\n      } else return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken() {\r\n    // Retrieves the user token from localStorage\r\n    return localStorage.getItem('id_token');\r\n  }\r\n\r\n  login(idToken) {\r\n    // Saves user token to localStorage\r\n    localStorage.setItem('id_token', idToken);\r\n\r\n    window.location.assign('/');\r\n  }\r\n\r\n  logout() {\r\n    // Clear user token and profile data from localStorage\r\n    localStorage.removeItem('id_token');\r\n    // this will reload the page and reset the state of the application\r\n    window.location.assign('/');\r\n  }\r\n}\r\n\r\nexport default new AuthService();\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Cart from '../Cart/index';\r\nimport Auth from '../../utils/auth';\r\nimport './style.css'\r\n\r\nfunction Nav() {\r\n    if (Auth.loggedIn()) {\r\n        return (\r\n            <nav className='nav-grid nav-style'>\r\n            <Link to='/' className='gird-col-span-2 nav-title font-Coolvetica'>Watches Co.</Link>\r\n            <ul className='nav-list-grid nav-list-style font-Poppins'>\r\n                <li>\r\n                    <a href='/' onClick={() => Auth.logout()}>Logout</a>\r\n                </li>\r\n                <li><Link className='nav-list-item-styling' to=\"/browse\" >Browse</Link></li>\r\n                <li><Cart /></li>\r\n            </ul>\r\n        </nav>\r\n        );\r\n    } else {\r\n        return (\r\n            <nav className='nav-grid nav-style'>\r\n            <Link to='/' className='gird-col-span-2 nav-title font-Coolvetica'>Watches Co.</Link>\r\n            <ul className='nav-list-grid nav-list-style font-Poppins'>\r\n                <li><Link className='nav-list-item-styling' to=\"/signup\">Signup</Link></li>\r\n                <li><Link className='nav-list-item-styling' to=\"/login\">Login</Link></li>\r\n                <li><Link className='nav-list-item-styling' to=\"/browse\" >Browse</Link></li>\r\n                <li><Cart/></li>\r\n            </ul>\r\n            \r\n        </nav>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Nav;","import { gql } from '@apollo/client';\r\n\r\nexport const LOGIN = gql`\r\n    mutation login($email: String!, $password: String! ) {\r\n       login(email: $email, password: $password) {\r\n        token\r\n        user {\r\n            _id\r\n        }\r\n       }\r\n    }\r\n`;\r\n\r\nexport const ADD_ORDER = gql`\r\n  mutation addOrder($products: [ID]!) {\r\n    addOrder(products: $products) {\r\n      purchaseDate\r\n      products {\r\n        _id\r\n        name\r\n        description\r\n        price\r\n        quantity\r\n        category {\r\n          name\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ADD_USER = gql`\r\n  mutation addUser(\r\n    $firstName: String!\r\n    $lastName: String!\r\n    $email: String!\r\n    $password: String!\r\n  ) {\r\n    addUser(\r\n      firstName: $firstName\r\n      lastName: $lastName\r\n      email: $email\r\n      password: $password\r\n    ) {\r\n      token\r\n      user {\r\n        _id\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, {useState} from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport Auth from '../utils/auth';\r\nimport { LOGIN } from '../utils/mutations';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Login = (props) => {\r\n    const [formState, setFormState] = useState({ email: '', password: ''});\r\n    const [login, {error}] = useMutation(LOGIN);\r\n    \r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            const mutationResponse = await login({\r\n                variables: { email: formState.email, password: formState.password },\r\n                \r\n            });\r\n            const token = mutationResponse.data.login.token\r\n            Auth.login(token);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        const { name, value } = event.target;\r\n        setFormState({\r\n            ...formState,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className='form-align'>\r\n            <h2 className='font-Poppins'>Login</h2>\r\n            <form  onSubmit={handleFormSubmit}>\r\n                <div className='font-Poppins-light'>\r\n                    <label htmlFor='email'>Email</label>\r\n                    <input className='input'\r\n                    placeholder='youremail@email.com'\r\n                    name='email'\r\n                    type='email'\r\n                    id='email'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                <div className ='font-Poppins-light'>\r\n                    <label htmlFor='password'>Password</label>\r\n                    <input className='input' placeholder='password'\r\n                    name='password'\r\n                    type='password'\r\n                    id='password'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                {error ? (\r\n                    <div>\r\n                        <p>Incorrect username or password. Please try again.</p>\r\n                    </div>\r\n                ) : null}\r\n                <div>\r\n                    <button className='button' type='submit'>Login</button>\r\n                </div>\r\n            </form>\r\n            <Link className='link font-Poppins-light' to=\"/signup\">Don't have an account? Sign up</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, {useState} from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport Auth from '../utils/auth';\r\nimport { ADD_USER } from '../utils/mutations';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction SignUp (props) {\r\n    const [formState, setFormState] = useState({ email: '', password: ''});\r\n    const [addUser] = useMutation(ADD_USER);\r\n\r\n    const handleFormSubmit = async (event) => {\r\n        event.preventDefault();\r\n        const mutationResponse = await addUser({\r\n            variables: {\r\n                email: formState.email,\r\n                password: formState.password,\r\n                firstName: formState.firstName,\r\n                lastName: formState.lastName,\r\n            },\r\n        });\r\n        const token=mutationResponse.data.addUser.token;\r\n        Auth.login(token);\r\n    };\r\n\r\n    const handleChange = (event) => {\r\n        const {name, value} = event.target;\r\n        setFormState({\r\n            ...formState,\r\n            [name]: value,\r\n        });\r\n    };\r\n\r\n    // const successMessage = () => {\r\n    //     return (\r\n    //         <div className='success'\r\n    //             style={{ display: submitted ? '' : 'none',}}>\r\n    //                 <h2>successfully registered!</h2>\r\n    //             </div>\r\n    //     );\r\n    // };\r\n\r\n    return (\r\n        <div className='form-align'>\r\n            <h2 className='font-Poppins'>Sign Up</h2>\r\n            <div className='successMessage'>\r\n                {/* {successMessage()} */}\r\n            </div>\r\n            <form onSubmit={handleFormSubmit} action='#'>\r\n                <div className='font-Poppins-light'>\r\n                    <label htmlFor='firstName'>First Name</label>\r\n                    <input className='input'\r\n                    placeholder='First Name'\r\n                    name='firstName'\r\n                    type='firstName'\r\n                    id='firstName'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                <div className='font-Poppins-light'>\r\n                    <label htmlFor='lastName'>Last Name</label>\r\n                    <input className='input'\r\n                    placeholder='Last Name'\r\n                    name='lastName'\r\n                    type='lastName'\r\n                    id='lastName'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                <div className='font-Poppins-light'>\r\n                    <label htmlFor='email'>Email</label>\r\n                    <input className='input'\r\n                    placeholder='youremail@email.com'\r\n                    name='email'\r\n                    type='email'\r\n                    id='email'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                <div className='font-Poppins-light'>\r\n                    <label htmlFor='password'>Password</label>\r\n                    <input className='input' placeholder='password'\r\n                    name='password'\r\n                    type='password'\r\n                    id='password'\r\n                    onChange={handleChange}/>\r\n                </div>\r\n                <button className='button' type='submit' value='Submit'>Submit</button>\r\n            </form>\r\n            <Link className='link font-Poppins-light' to=\"/login\">Already have an account? Log in</Link>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SignUp;","import ProductList from '../components/ProductList';\r\n\r\n\r\nconst Browse = () => {\r\n\r\n    return (\r\n        <ProductList />\r\n    )\r\n};\r\n\r\nexport default Browse;","import React, { useEffect, useState } from 'react';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { useQuery } from '@apollo/client';\r\n\r\nimport Cart from '../components/Cart';\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport {\r\n  REMOVE_FROM_CART,\r\n  UPDATE_CART_QUANTITY,\r\n  ADD_TO_CART,\r\n  UPDATE_PRODUCTS,\r\n} from '../utils/actions';\r\nimport { QUERY_PRODUCTS } from '../utils/queries';\r\nimport { idbPromise } from '../utils/helpers';\r\n\r\nfunction SingleItem() {\r\n  const [state, dispatch] = useStoreContext();\r\n  const { id } = useParams();\r\n\r\n  const [currentProduct, setCurrentProduct] = useState({});\r\n\r\n  const { loading, data } = useQuery(QUERY_PRODUCTS);\r\n\r\n  const { products, cart } = state;\r\n\r\n  useEffect(() => {\r\n\r\n    if (products.length) {\r\n      setCurrentProduct(products.find((product) => product._id === id));\r\n    }\r\n\r\n    else if (data) {\r\n      dispatch({\r\n        type: UPDATE_PRODUCTS,\r\n        products: data.products,\r\n      });\r\n\r\n      data.products.forEach((product) => {\r\n        idbPromise('products', 'put', product);\r\n      });\r\n    }\r\n\r\n    else if (!loading) {\r\n      idbPromise('products', 'get').then((indexedProducts) => {\r\n        dispatch({\r\n          type: UPDATE_PRODUCTS,\r\n          products: indexedProducts,\r\n        });\r\n      });\r\n    }\r\n  }, [products, data, loading, dispatch, id]);\r\n\r\n  const addToCart = () => {\r\n    const itemInCart = cart.find((cartItem) => cartItem._id === id);\r\n    if (itemInCart) {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: id,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n      idbPromise('cart', 'put', {\r\n        ...itemInCart,\r\n        purchaseQuantity: parseInt(itemInCart.purchaseQuantity) + 1,\r\n      });\r\n    } else {\r\n      dispatch({\r\n        type: ADD_TO_CART,\r\n        product: { ...currentProduct, purchaseQuantity: 1 },\r\n      });\r\n      idbPromise('cart', 'put', { ...currentProduct, purchaseQuantity: 1 });\r\n    }\r\n  };\r\n\r\n  const removeFromCart = () => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: currentProduct._id,\r\n    });\r\n\r\n    idbPromise('cart', 'delete', { ...currentProduct });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Link className='font-Poppins back-to-browsing' to=\"/browse\"> Back to Browsing </Link>\r\n      {currentProduct && cart ? (\r\n        <div className=\"single-item-grid\">\r\n          <div className='text-align-right '>\r\n            <img\r\n              className='single-item-image'\r\n              src={currentProduct.picture}\r\n              alt={currentProduct.name}\r\n            />\r\n          </div>\r\n          <div className='text-align-center'>\r\n            <h2 className='text-size-main-title font-Poppins'>{currentProduct.name}</h2>\r\n            <p className='text-size-main font-Poppins-light'>{currentProduct.description}</p>\r\n            <p className='text-size-main font-Poppins-light'>${currentProduct.msrp}</p>\r\n            <h3 className='font-Poppins'>Technical Specifications</h3>\r\n            <p className='font-Poppins-light'>Size: {currentProduct.size}</p>\r\n            <p className='font-Poppins-light'>Display Size: {currentProduct.displaysize}</p>\r\n            <p className='font-Poppins-light'>Display Resolution: {currentProduct.displayresolution}</p>\r\n            <p className='font-Poppins-light'>Weight: {currentProduct.weight}</p>\r\n            <p className='font-Poppins-light'>Water Rating: {currentProduct.waterrating}</p>\r\n            <p className='font-Poppins-light'>Color Display: {currentProduct.colordisplay}</p>\r\n            <p className='font-Poppins-light'>Release Date: {currentProduct.releasedate}</p>\r\n            <button className='btn-single-page-size btn-single-page-style font-Poppins-light' onClick={addToCart}>Add to Cart</button>\r\n            <button\r\n             className='font-Poppins-light btn-single-page-style'\r\n              disabled={!cart.find((p) => p._id === currentProduct._id)}\r\n              onClick={removeFromCart}\r\n            >\r\n              Remove from Cart\r\n            </button>\r\n          </div>\r\n\r\n\r\n        </div>\r\n      ) : null}\r\n      {loading ? <div></div> : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SingleItem;","import React from 'react';\r\nimport './style.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <div>\r\n            <footer className='footer-grid font-Poppins'>\r\n                <div className='footer-list-style'>\r\n                    <li ><Link to='/Home'>Home</Link></li>\r\n                    <li ><Link to='/Browse'>Browse</Link></li>\r\n                    <li ><Link to='/Login'>Login</Link></li>\r\n                    <li ><Link to='/Signup'>Signup</Link></li>\r\n                </div>\r\n                <div className='footer-list-style font-Poppins'>\r\n                    <h2 className='footer-title font-Coolvetica'>Watches Co.</h2>\r\n                    <li>2568 Bradtke Hills Suite 895</li>\r\n                    <li>South Orieton, NE 66593-7128</li>\r\n                    <li>774-364-7731</li>\r\n                </div>\r\n                <div className='footer-list-style font-Poppins'>\r\n                    <li>Website for educational purposes only.</li>\r\n                    <li>Love the look?</li>\r\n                    <li><a href=\"https://github.com/nvmax/Joblesswannabies-project3\">Visit github</a></li>\r\n                </div>\r\n            </footer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\nimport { useStoreContext } from \"../../utils/GlobalState\";\r\nimport { REMOVE_FROM_CART, UPDATE_CART_QUANTITY } from \"../../utils/actions\";\r\nimport { idbPromise } from \"../../utils/helpers\";\r\nimport './style.css'\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst CartItem = ({ item }) => {\r\n\r\n  const [, dispatch] = useStoreContext();\r\n\r\n  const removeFromCart = item => {\r\n    dispatch({\r\n      type: REMOVE_FROM_CART,\r\n      _id: item._id\r\n    });\r\n    idbPromise('cart', 'delete', { ...item });\r\n\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    const value = e.target.value;\r\n    if (value === '0') {\r\n      dispatch({\r\n        type: REMOVE_FROM_CART,\r\n        _id: item._id\r\n      });\r\n      idbPromise('cart', 'delete', { ...item });\r\n\r\n    } else {\r\n      dispatch({\r\n        type: UPDATE_CART_QUANTITY,\r\n        _id: item._id,\r\n        purchaseQuantity: parseInt(value)\r\n      });\r\n      idbPromise('cart', 'put', { ...item, purchaseQuantity: parseInt(value) });\r\n\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"cart-item-div\">\r\n      <Link to={`/products/${item._id}`}>\r\n        <img className='cart-item-image'\r\n          src={item.picture}\r\n          alt=\"\"\r\n        />\r\n      </Link>\r\n      <div>\r\n        <div className='font-Poppins'>{item.name}</div>\r\n        <div className='font-Poppins'>${item.msrp}</div>\r\n        <div className='margin-bottom'>\r\n          <span className='font-Poppins'>Qty: </span>\r\n          <input\r\n          className='font-Poppins'\r\n            type=\"number\"\r\n            placeholder=\"1\"\r\n            value={item.purchaseQuantity}\r\n            onChange={onChange}\r\n          /><br/><br/>\r\n          <span\r\n            className='font-Poppins remove-from-cart'\r\n            role=\"img\"\r\n            aria-label=\"trash\"\r\n            onClick={() => removeFromCart(item)}\r\n          >\r\n            Remove from cart\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CartItem;","import React, { useEffect } from 'react';\r\nimport CartItem from '../components/CartItem/index';\r\nimport { useStoreContext } from '../utils/GlobalState';\r\nimport Auth from '../utils/auth';\r\nimport { useLazyQuery } from '@apollo/client';\r\nimport { QUERY_CHECKOUT } from '../utils/queries';\r\nimport {  ADD_MULTIPLE_TO_CART } from '../utils/actions';\r\nimport { idbPromise } from '../utils/helpers';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\n\r\nconst stripePromise = loadStripe('pk_test_TYooMQauvdEDq54NiTphI7jx');\r\n\r\nconst CartPage = () => {\r\n    const [state, dispatch] = useStoreContext();\r\n    const [getCheckout, { data }] = useLazyQuery(QUERY_CHECKOUT);\r\n\r\n    useEffect(() => {\r\n        if (data) {\r\n            stripePromise.then((res) => {\r\n                res.redirectToCheckout({ sessionId: data.checkout.session });\r\n            });\r\n        }\r\n    }, [data]);\r\n    \r\n    function calculateTotal() {\r\n        let sum = 0;\r\n        state.cart.forEach((item) => {\r\n            sum += item.msrp * item.purchaseQuantity;\r\n        });\r\n        return sum.toFixed(2);\r\n    }\r\n\r\n    function submitCheckout() {\r\n        const productIds = [];\r\n    \r\n        state.cart.forEach((item) => {\r\n            for (let i = 0; i < item.purchaseQuantity; i++) {\r\n                productIds.push(item._id);\r\n            }\r\n        });\r\n\r\n        getCheckout({\r\n            variables: { products: productIds },\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className='text-align-center cart-page-main-div'>\r\n            <h2 className='font-Poppins'>Shopping Cart</h2>\r\n            {state.cart.length ? (\r\n                <div>\r\n                    {state.cart.map((item) => (\r\n                        <CartItem key={item._id} item={item} />\r\n                    ))}\r\n\r\n                    <div className=\"flex-row space-between\">\r\n                        <strong className='font-Poppins'>Total: ${calculateTotal()}</strong>\r\n\r\n                        {Auth.loggedIn() ? (\r\n                            <button onClick={submitCheckout}>Checkout</button>\r\n                        ) : (\r\n                            <span className='font-Poppins'>(Log in to check out)</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <h3 className='font-Poppins'>\r\n                    Theres nothing in your cart!\r\n                </h3>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CartPage;\r\n","import React, { useEffect } from 'react';\r\nimport { useMutation } from '@apollo/client';\r\nimport { ADD_ORDER } from '../utils/mutations';\r\nimport { idbPromise } from '../utils/helpers';\r\n\r\nfunction Success() {\r\n  const [addOrder] = useMutation(ADD_ORDER);\r\n\r\n  useEffect(() => {\r\n    async function saveOrder() {\r\n      const cart = await idbPromise('cart', 'get');\r\n      const products = cart.map((item) => item._id);\r\n\r\n      if (products.length) {\r\n        const { data } = await addOrder({ variables: { products } });\r\n        const productData = data.addOrder.products;\r\n\r\n        productData.forEach((item) => {\r\n          idbPromise('cart', 'delete', item);\r\n        });\r\n      }\r\n\r\n      setTimeout(() => {\r\n        window.location.assign('/');\r\n      }, 3000);\r\n    }\r\n\r\n    saveOrder();\r\n  }, [addOrder]);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <h1>Success!</h1>\r\n        <h2>Thank you for your purchase!</h2>\r\n        <h2>You will now be redirected to the home page</h2>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Success;\r\n\r\n","import React from 'react';\r\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\r\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\r\nimport { StoreProvider } from './utils/GlobalState';\r\nimport Home from './pages/Home';\r\nimport Nav from './components/Nav/index';\r\nimport Login from './pages/Login';\r\nimport Signup from './pages/Signup';\r\nimport Browse from './pages/Browse';\r\nimport SingleItem from './pages/SingleItem';\r\nimport Footer from './components/Footer/index';\r\nimport CartPage from './pages/Cart';\r\nimport Success from './pages/Success'\r\n\r\n\r\nconst client = new ApolloClient({\r\n  uri: '/graphql',\r\n  cache: new InMemoryCache(),\r\n});\r\n\r\nfunction App() {\r\n  return (\r\n    <ApolloProvider client={client}>\r\n      <Router>\r\n        <StoreProvider>\r\n          <Nav />\r\n\r\n          <Routes>\r\n            <Route\r\n              path=\"/\"\r\n              element={<Home />}\r\n            />\r\n            <Route \r\n              path=\"/login\" \r\n              element={<Login />} \r\n            />\r\n            <Route \r\n              path=\"/signup\" \r\n              element={<Signup />} \r\n            />\r\n            <Route \r\n              path=\"/browse\" \r\n              element={<Browse />} \r\n            />\r\n            <Route \r\n              path=\"/products/:id\" \r\n              element={<SingleItem />} \r\n            />\r\n            <Route \r\n              path=\"/cart\" \r\n              element={<CartPage />} \r\n            />\r\n            <Route \r\n                path=\"/success\" \r\n                element={<Success />} \r\n              />\r\n          </Routes>\r\n          <div className='footer-location'><Footer /></div>\r\n        </StoreProvider>\r\n      </Router>\r\n\r\n    </ApolloProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export default __webpack_public_path__ + \"static/media/coolvetica.rg-regular.3d81d0e1.otf\";","export default __webpack_public_path__ + \"static/media/poppins.regular.1c701c9a.ttf\";","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './fonts/coolvetica.rg-regular.otf'\r\nimport './fonts/poppins.regular.ttf'\r\nimport './style.css'\r\n\r\n// import reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\n// reportWebVitals();\r\n"],"sourceRoot":""}