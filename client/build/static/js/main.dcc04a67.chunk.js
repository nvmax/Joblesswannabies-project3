(this["webpackJsonpmern-client"]=this["webpackJsonpmern-client"]||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(65),i=n.n(s),r=n(101),o=n(103),l=n(100),d=n(16),j=n(6),u=n(9),h=n(7),p=n(69),b=n(17),m="UPDATE_PRODUCTS",O="ADD_TO_CART",f="ADD_MULTIPLE_TO_CART",g="REMOVE_FROM_CART",x="UPDATE_CART_QUANTITY",v="UPDATE_CATEGORIES",y="UPDATE_CURRENT_CATEGORY",N=function(e,t){switch(t.type){case m:return Object(u.a)(Object(u.a)({},e),{},{products:Object(b.a)(t.products)});case O:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(b.a)(e.cart),[t.product])});case f:return Object(u.a)(Object(u.a)({},e),{},{cart:[].concat(Object(b.a)(e.cart),Object(b.a)(t.products))});case x:return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case g:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(u.a)(Object(u.a)({},e),{},{cartOpen:n.length>0,cart:n});case"CLEAR_CART":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!1,cart:[]});case"TOGGLE_CART":return Object(u.a)(Object(u.a)({},e),{},{cartOpen:!e.cartOpen});case v:return Object(u.a)(Object(u.a)({},e),{},{categories:Object(b.a)(t.categories)});case y:return Object(u.a)(Object(u.a)({},e),{},{currentCategory:t.currentCategory});default:return e}};var _=n(0),w=["value"],P=Object(a.createContext)(),k=P.Provider,I=function(e){e.value;var t,n=Object(p.a)(e,w),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(a.useReducer)(N,t)),s=Object(h.a)(c,2),i=s[0],r=s[1];return Object(_.jsx)(k,Object(u.a)({value:[i,r]},n))},C=function(){return Object(a.useContext)(P)};function S(e,t,n){return new Promise((function(a,c){var s,i,r,o=window.indexedDB.open("Garmin",1);o.onupgradeneeded=function(e){var t=o.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},o.onerror=function(e){console.log("There was an error")},o.onsuccess=function(c){switch(s=o.result,i=s.transaction(e,"readwrite"),r=i.objectStore(e),s.onerror=function(e){console.log("error",e)},t){case"put":r.put(n),a(n);break;case"get":var l=r.getAll();l.onsuccess=function(){a(l.result)};break;case"delete":r.delete(n._id);break;default:console.log("No valid method")}i.oncomplete=function(){s.close()}}}))}n(80);var R,T,E,D,L,A=function(e){var t=C(),n=Object(h.a)(t,2),a=n[0],c=n[1],s=e._id,i=e.name,r=e.picture,o=e.msrp,l=a.cart;return Object(_.jsxs)("div",{className:"product-item-card-styling font-item-list",children:[Object(_.jsxs)(d.b,{className:"product-item-link-styling",to:"/products/".concat(s),children:[Object(_.jsx)("img",{className:"product-image-styling",src:r}),Object(_.jsx)("h1",{className:"product-item-title-styling font-item-list",children:i})]}),Object(_.jsx)("div",{className:"product-item-price-styling",children:Object(_.jsxs)("span",{className:"font-item-list price-color",children:["$",o]})}),Object(_.jsx)("div",{className:"product-item-addCart-div-styling",children:Object(_.jsx)("button",{className:"add-cart-btn font-item-list",onClick:function(){var t=l.find((function(e){return e._id===s}));t?(c({type:x,_id:s,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),S("cart","put",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(c({type:O,product:Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})}),S("cart","put",Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:1})))},children:"Add to cart"})})]})},Q=n(70),$=n(26),W=n(102),z=Object(W.a)(R||(R=Object($.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      picture\n      description\n      msrp\n      review\n      releasedate\n      size\n      displaysize\n      displayresolution\n      weight\n      waterrating\n      colordisplay\n      category {\n        _id\n      }\n    }\n  }\n"]))),F=Object(W.a)(T||(T=Object($.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),U=(Object(W.a)(E||(E=Object($.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      image\n      quantity\n      price\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(W.a)(D||(D=Object($.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"]))));Object(W.a)(L||(L=Object($.a)(["\n  {\n    user {\n      firstName\n      lastName\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"]))),n(81);var B=function(){var e=C(),t=Object(h.a)(e,2),n=t[0],c=t[1],s=n.categories,i=Object(Q.b)(U),r=i.loading,o=i.data;return Object(a.useEffect)((function(){o?(c({type:v,categories:o.categories}),o.categories.forEach((function(e){S("categories","put",e)}))):r||S("categories","get").then((function(e){c({type:v,categories:e})}))}),[o,r,c]),Object(_.jsxs)("div",{className:"category-parent-div",children:[Object(_.jsx)("div",{className:"product-category-title-styling font-Poppins",children:"Categories"}),Object(_.jsxs)("select",{className:"category-select font-Poppins",onChange:function(e){console.log(e.target.value),c({type:y,currentCategory:e.target.value})},children:[Object(_.jsx)("option",{className:"product-category-styling font-Poppins",value:"",children:"All Products"}),s.map((function(e){return Object(_.jsx)("option",{value:e._id,className:"product-category-styling font-Poppins",children:e.name},e._id)}))]})]})},G=n(19),q=(n(64),n(83),function(){var e=C(),t=Object(h.a)(e,2),n=t[0],c=t[1],s=n.currentCategory,i=Object(Q.b)(z),r=i.loading,o=i.data;return Object(a.useEffect)((function(){o?(c({type:m,products:o.products}),o.products.forEach((function(e){S("products","put",e)}))):r||S("products","get").then((function(e){c({type:m,products:e})}))}),[o,r,c]),Object(_.jsxs)("div",{className:"product-list-grid product-list-styling",children:[Object(_.jsx)(B,{}),Object(_.jsx)("div",{className:"product-all-products-title-styling font-Poppins",children:"All Products"}),Object(_.jsx)("div",{className:"product-all-products-grid",children:(s?n.products.filter((function(e){return e.category._id===s})):n.products).map((function(e){return Object(_.jsx)(A,{_id:e._id,picture:e.picture,name:e.name,msrp:e.msrp},e._id)}))})]})}),M=n.p+"static/media/blog_thumbnail_trail-running-tips_1200x800-1024x683.jpg.eb4c886e.png",H=n.p+"static/media/ocean_club_golf_3273_0.feea842f.png",Y=n.p+"static/media/heart-zone-training-3432619-2378-472a3028e21b4337b57e014fa5d5a2ad.0ef91ffc.png",J=n.p+"static/media/aviation.d24ddaa5.png",V=n.p+"static/media/Feature-dive-watch.d836aee8.png",K=function(){var e=window.innerWidth;return console.log(e),e>=1469?Object(_.jsxs)("div",{className:"text-align-center home-main-div",children:[Object(_.jsxs)("div",{className:"first-section-grid",children:[Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutLeft",animateIn:"animate__fadeInLeft",children:Object(_.jsx)("div",{className:"home-img",children:Object(_.jsx)("img",{src:M,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutRight",animateIn:"animate__fadeInRight",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Running Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Running watches can help you track a multitude of things so you only have to focus on running and can learn and track yourself later. Check out our selection of running watches."})]})})]}),Object(_.jsxs)("div",{className:"first-section-grid ",children:[Object(_.jsx)(G.a,{duration:"1.5",animateOut:"animate__fadeOutLeft",animateIn:"animate__fadeInLeft",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Golfing Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Golf watches are a great way to track your way around the green. check out our selection of golf watches."})]})}),Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutRight",animateIn:"animate__fadeInRight",children:Object(_.jsx)("img",{src:H,alt:"trail runner"})})]}),Object(_.jsxs)("div",{className:"first-section-grid ",children:[Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutLeft",animateIn:"animate__fadeInLeft",children:Object(_.jsx)("img",{src:Y,alt:"trail runner"})}),Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutRight",animateIn:"animate__fadeInRight",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Health Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Need help tracking your steps, heart rate, and sleep? Our selection of health watches is unmatched and can track everything you need."})]})})]}),Object(_.jsxs)("div",{className:"first-section-grid ",children:[Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutLeft",animateIn:"animate__fadeInLeft",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Aviation Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"For all the pilots, aviation watches can help you both on the ground and in the sky. We offer a great selection with many different elements so you can handpick what you need in a watch."})]})}),Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutRight",animateIn:"animate__fadeInRight",children:Object(_.jsx)("img",{src:J,alt:"trail runner"})})]}),Object(_.jsxs)("div",{className:"first-section-grid ",children:[Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutLeft",animateIn:"animate__fadeInLeft",children:Object(_.jsx)("img",{src:V,alt:"trail runner"})}),Object(_.jsx)(G.a,{duration:"2",animateOut:"animate__fadeOutRight",animateIn:"animate__fadeInRight",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Diving Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"For both amateur and advanced divers our diving watches can help you navigate the waters. With special technology these can stand water pressure and keep you safe on your dives."})]})})]})]}):Object(_.jsxs)("div",{className:"text-align-center home-main-div ",children:[Object(_.jsxs)("div",{className:"mobile-homepage-grid",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"home-img-moblie",src:M,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",offset:1,animateIn:"animate__zoomIn",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Running Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Running watches can help you track a multitude of things so you only have to focus on running and can learn and track yourself later. Check out our selection of running watches."})]})})]}),Object(_.jsxs)("div",{className:"mobile-homepage-grid",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"home-img-moblie",src:H,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",offset:1,animateIn:"animate__zoomIn",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Golfing Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Golf watches are a great way to track your way around the green. check out our selection of golf watches."})]})})]}),Object(_.jsxs)("div",{className:"mobile-homepage-grid",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"home-img-moblie",src:Y,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",offset:1,animateIn:"animate__zoomIn",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Health Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"Need help tracking your steps, heart rate, and sleep? Our selection of health watches is unmatched and can track everything you need."})]})})]}),Object(_.jsxs)("div",{className:"mobile-homepage-grid",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"home-img-moblie",src:J,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",offset:1,animateIn:"animate__zoomIn",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Aviation Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"For all the pilots, aviation watches can help you both on the ground and in the sky. We offer a great selection with many different elements so you can handpick what you need in a watch."})]})})]}),Object(_.jsxs)("div",{className:"mobile-homepage-grid",children:[Object(_.jsx)("div",{children:Object(_.jsx)("div",{children:Object(_.jsx)("img",{className:"home-img-moblie",src:V,alt:"trail runner"})})}),Object(_.jsx)(G.a,{duration:"2",offset:1,animateIn:"animate__zoomIn",children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{className:"font-Poppins",children:"Diving Watch"}),Object(_.jsx)("p",{className:"font-Poppins-light",children:"For both amateur and advanced divers our diving watches can help you navigate the waters. With special technology these can stand water pressure and keep you safe on your dives."})]})})]})]})},X=n(8),Z=n(15),ee=(n(84),function(){var e=Object(j.l)(),t=C(),n=Object(h.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){function e(){return(e=Object(Z.a)(Object(X.a)().mark((function e(){var t;return Object(X.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("cart","get");case 2:t=e.sent,s({type:f,products:Object(b.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.cart.length||function(){e.apply(this,arguments)}()}),[c.cart.length,s]),Object(_.jsxs)("div",{children:[Object(_.jsx)("i",{className:"fas fa-shopping-cart nav-icon-style",onClick:function(){e("/cart")}}),Object(_.jsx)("span",{className:"badge",children:c.cart.length})]})}),te=n(30),ne=n(29),ae=n(58),ce=n.n(ae),se=new(function(){function e(){Object(te.a)(this,e)}return Object(ne.a)(e,[{key:"getProfile",value:function(){return ce()(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return ce()(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}());n(87);var ie,re,oe,le=function(){return se.loggedIn()?Object(_.jsxs)("nav",{className:"nav-grid nav-style",children:[Object(_.jsx)(d.b,{to:"/",className:"gird-col-span-2 nav-title font-Coolvetica",children:"Watches Co."}),Object(_.jsxs)("ul",{className:"nav-list-grid nav-list-style font-Poppins",children:[Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"/",onClick:function(){return se.logout()},children:"Logout"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{className:"nav-list-item-styling",to:"/browse",children:"Browse"})}),Object(_.jsx)("li",{children:Object(_.jsx)(ee,{})})]})]}):Object(_.jsxs)("nav",{className:"nav-grid nav-style",children:[Object(_.jsx)(d.b,{to:"/",className:"gird-col-span-2 nav-title font-Coolvetica",children:"Watches Co."}),Object(_.jsxs)("ul",{className:"nav-list-grid nav-list-style font-Poppins",children:[Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{className:"nav-list-item-styling",to:"/signup",children:"Signup"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{className:"nav-list-item-styling",to:"/login",children:"Login"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{className:"nav-list-item-styling",to:"/browse",children:"Browse"})}),Object(_.jsx)("li",{children:Object(_.jsx)(ee,{})})]})]})},de=n(13),je=n(97),ue=Object(W.a)(ie||(ie=Object($.a)(["\n    mutation login($email: String!, $password: String! ) {\n       login(email: $email, password: $password) {\n        token\n        user {\n            _id\n        }\n       }\n    }\n"]))),he=Object(W.a)(re||(re=Object($.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),pe=Object(W.a)(oe||(oe=Object($.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),be=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(h.a)(t,2),c=n[0],s=n[1],i=Object(je.a)(ue),r=Object(h.a)(i,2),o=r[0],l=r[1].error,j=function(){var e=Object(Z.a)(Object(X.a)().mark((function e(t){var n,a;return Object(X.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:{email:c.email,password:c.password}});case 4:n=e.sent,a=n.data.login.token,se.login(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},c),{},Object(de.a)({},n,a)))};return Object(_.jsxs)("div",{className:"form-align",children:[Object(_.jsx)("h2",{className:"font-Poppins",children:"Login"}),Object(_.jsxs)("form",{onSubmit:j,children:[Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"email",children:"Email"}),Object(_.jsx)("input",{className:"input",placeholder:"youremail@email.com",name:"email",type:"email",id:"email",onChange:p})]}),Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"password",children:"Password"}),Object(_.jsx)("input",{className:"input",placeholder:"password",name:"password",type:"password",id:"password",onChange:p})]}),l?Object(_.jsx)("div",{children:Object(_.jsx)("p",{children:"Incorrect username or password. Please try again."})}):null,Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:"button",type:"submit",children:"Login"})})]}),Object(_.jsx)(d.b,{className:"link font-Poppins-light",to:"/signup",children:"Don't have an account? Sign up"})]})};var me=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(h.a)(t,2),c=n[0],s=n[1],i=Object(je.a)(pe),r=Object(h.a)(i,1)[0],o=function(){var e=Object(Z.a)(Object(X.a)().mark((function e(t){var n,a;return Object(X.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,r({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName}});case 3:n=e.sent,a=n.data.addUser.token,se.login(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(e){var t=e.target,n=t.name,a=t.value;s(Object(u.a)(Object(u.a)({},c),{},Object(de.a)({},n,a)))};return Object(_.jsxs)("div",{className:"form-align",children:[Object(_.jsx)("h2",{className:"font-Poppins",children:"Sign Up"}),Object(_.jsx)("div",{className:"successMessage"}),Object(_.jsxs)("form",{onSubmit:o,action:"#",children:[Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"firstName",children:"First Name"}),Object(_.jsx)("input",{className:"input",placeholder:"First Name",name:"firstName",type:"firstName",id:"firstName",onChange:l})]}),Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"lastName",children:"Last Name"}),Object(_.jsx)("input",{className:"input",placeholder:"Last Name",name:"lastName",type:"lastName",id:"lastName",onChange:l})]}),Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"email",children:"Email"}),Object(_.jsx)("input",{className:"input",placeholder:"youremail@email.com",name:"email",type:"email",id:"email",onChange:l})]}),Object(_.jsxs)("div",{className:"font-Poppins-light",children:[Object(_.jsx)("label",{htmlFor:"password",children:"Password"}),Object(_.jsx)("input",{className:"input",placeholder:"password",name:"password",type:"password",id:"password",onChange:l})]}),Object(_.jsx)("button",{className:"button",type:"submit",value:"Submit",children:"Submit"})]}),Object(_.jsx)(d.b,{className:"link font-Poppins-light",to:"/login",children:"Already have an account? Log in"})]})},Oe=function(){return Object(_.jsx)(q,{})};var fe=function(){var e=C(),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(j.n)().id,i=Object(a.useState)({}),r=Object(h.a)(i,2),o=r[0],l=r[1],p=Object(Q.b)(z),b=p.loading,f=p.data,v=n.products,y=n.cart;return Object(a.useEffect)((function(){v.length?l(v.find((function(e){return e._id===s}))):f?(c({type:m,products:f.products}),f.products.forEach((function(e){S("products","put",e)}))):b||S("products","get").then((function(e){c({type:m,products:e})}))}),[v,f,b,c,s]),Object(_.jsxs)("div",{children:[Object(_.jsx)(d.b,{className:"font-Poppins back-to-browsing",to:"/browse",children:"\u2190 Back to Browsing "}),o&&y?Object(_.jsxs)("div",{className:"single-item-grid",children:[Object(_.jsx)("div",{className:"text-align-right ",children:Object(_.jsx)("img",{className:"single-item-image",src:o.picture,alt:o.name})}),Object(_.jsxs)("div",{className:"text-align-center",children:[Object(_.jsx)("h2",{className:"text-size-main-title font-Poppins",children:o.name}),Object(_.jsx)("p",{className:"text-size-main font-Poppins-light",children:o.description}),Object(_.jsxs)("p",{className:"text-size-main font-Poppins-light",children:["$",o.msrp]}),Object(_.jsx)("h3",{className:"font-Poppins",children:"Technical Specifications"}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Size: ",o.size]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Display Size: ",o.displaysize]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Display Resolution: ",o.displayresolution]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Weight: ",o.weight]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Water Rating: ",o.waterrating]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Color Display: ",o.colordisplay]}),Object(_.jsxs)("p",{className:"font-Poppins-light",children:["Release Date: ",o.releasedate]}),Object(_.jsx)("button",{className:"btn-single-page-size btn-single-page-style font-Poppins-light",onClick:function(){var e=y.find((function(e){return e._id===s}));e?(c({type:x,_id:s,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),S("cart","put",Object(u.a)(Object(u.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:O,product:Object(u.a)(Object(u.a)({},o),{},{purchaseQuantity:1})}),S("cart","put",Object(u.a)(Object(u.a)({},o),{},{purchaseQuantity:1})))},children:"Add to Cart"}),Object(_.jsx)("button",{className:"font-Poppins-light btn-single-page-style",disabled:!y.find((function(e){return e._id===o._id})),onClick:function(){c({type:g,_id:o._id}),S("cart","delete",Object(u.a)({},o))},children:"Remove from Cart"})]})]}):null,b?Object(_.jsx)("div",{}):null]})};n(88);var ge=function(){return Object(_.jsx)("div",{children:Object(_.jsxs)("footer",{className:"footer-grid font-Poppins",children:[Object(_.jsxs)("div",{className:"footer-list-style",children:[Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:"/Home",children:"Home"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:"/Browse",children:"Browse"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:"/Login",children:"Login"})}),Object(_.jsx)("li",{children:Object(_.jsx)(d.b,{to:"/Signup",children:"Signup"})})]}),Object(_.jsxs)("div",{className:"footer-list-style font-Poppins",children:[Object(_.jsx)("h2",{className:"footer-title font-Coolvetica",children:"Watches Co."}),Object(_.jsx)("li",{children:"2568 Bradtke Hills Suite 895"}),Object(_.jsx)("li",{children:"South Orieton, NE 66593-7128"}),Object(_.jsx)("li",{children:"774-364-7731"})]}),Object(_.jsxs)("div",{className:"footer-list-style font-Poppins",children:[Object(_.jsx)("li",{children:"Website for educational purposes only."}),Object(_.jsx)("li",{children:"Love the look?"}),Object(_.jsx)("li",{children:Object(_.jsx)("a",{href:"https://github.com/nvmax/Joblesswannabies-project3",children:"Visit github"})})]})]})})},xe=(n(89),function(e){var t=e.item,n=C(),a=Object(h.a)(n,2)[1];return Object(_.jsxs)("div",{className:"cart-item-div",children:[Object(_.jsx)(d.b,{to:"/products/".concat(t._id),children:Object(_.jsx)("img",{className:"cart-item-image",src:t.picture,alt:""})}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"font-Poppins",children:t.name}),Object(_.jsxs)("div",{className:"font-Poppins",children:["$",t.msrp]}),Object(_.jsxs)("div",{className:"margin-bottom",children:[Object(_.jsx)("span",{className:"font-Poppins",children:"Qty: "}),Object(_.jsx)("input",{className:"font-Poppins",type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;"0"===n?(a({type:g,_id:t._id}),S("cart","delete",Object(u.a)({},t))):(a({type:x,_id:t._id,purchaseQuantity:parseInt(n)}),S("cart","put",Object(u.a)(Object(u.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("span",{className:"font-Poppins remove-from-cart",role:"img","aria-label":"trash",onClick:function(){return function(e){a({type:g,_id:e._id}),S("cart","delete",Object(u.a)({},e))}(t)},children:"Remove from cart"})]})]})]})}),ve=n(98),ye=n(67),Ne=Object(ye.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),_e=function(){var e=C(),t=Object(h.a)(e,2),n=t[0],c=(t[1],Object(ve.a)(F)),s=Object(h.a)(c,2),i=s[0],r=s[1].data;return Object(a.useEffect)((function(){r&&Ne.then((function(e){e.redirectToCheckout({sessionId:r.checkout.session})}))}),[r]),Object(_.jsxs)("div",{className:"text-align-center cart-page-main-div",children:[Object(_.jsx)("h2",{className:"font-Poppins",children:"Shopping Cart"}),n.cart.length?Object(_.jsxs)("div",{children:[n.cart.map((function(e){return Object(_.jsx)(xe,{item:e},e._id)})),Object(_.jsxs)("div",{className:"flex-row space-between",children:[Object(_.jsxs)("strong",{className:"font-Poppins",children:["Total: $",function(){var e=0;return n.cart.forEach((function(t){e+=t.msrp*t.purchaseQuantity})),e.toFixed(2)}()]}),se.loggedIn()?Object(_.jsx)("button",{onClick:function(){var e=[];n.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),i({variables:{products:e}})},children:"Checkout"}):Object(_.jsx)("span",{className:"font-Poppins",children:"(Log in to check out)"})]})]}):Object(_.jsx)("h3",{className:"font-Poppins",children:"Theres nothing in your cart!"})]})};var we=function(){var e=Object(je.a)(he),t=Object(h.a)(e,1)[0];return Object(a.useEffect)((function(){function e(){return(e=Object(Z.a)(Object(X.a)().mark((function e(){var n,a,c,s;return Object(X.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S("cart","get");case 2:if(n=e.sent,!(a=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:a}});case 7:c=e.sent,s=c.data,s.addOrder.products.forEach((function(e){S("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(_.jsx)("div",{children:Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"Success!"}),Object(_.jsx)("h2",{children:"Thank you for your purchase!"}),Object(_.jsx)("h2",{children:"You will now be redirected to the home page"})]})})},Pe=new r.a({uri:"/graphql",cache:new o.a});var ke=function(){return Object(_.jsx)(l.a,{client:Pe,children:Object(_.jsx)(d.a,{children:Object(_.jsxs)(I,{children:[Object(_.jsx)(le,{}),Object(_.jsxs)(j.c,{children:[Object(_.jsx)(j.a,{path:"/",element:Object(_.jsx)(K,{})}),Object(_.jsx)(j.a,{path:"/login",element:Object(_.jsx)(be,{})}),Object(_.jsx)(j.a,{path:"/signup",element:Object(_.jsx)(me,{})}),Object(_.jsx)(j.a,{path:"/browse",element:Object(_.jsx)(Oe,{})}),Object(_.jsx)(j.a,{path:"/products/:id",element:Object(_.jsx)(fe,{})}),Object(_.jsx)(j.a,{path:"/cart",element:Object(_.jsx)(_e,{})}),Object(_.jsx)(j.a,{path:"/success",element:Object(_.jsx)(we,{})})]}),Object(_.jsx)("div",{className:"footer-location",children:Object(_.jsx)(ge,{})})]})})})};n.p,n.p,n(90);i.a.render(Object(_.jsx)(c.a.StrictMode,{children:Object(_.jsx)(ke,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.dcc04a67.chunk.js.map